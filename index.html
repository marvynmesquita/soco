<!DOCTYPE html>
<html lang="pt">
  <head>
    <meta charset="utf-8">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <title>Socó</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Loading Bootstrap -->
    <link href="css/vendor/bootstrap.min.css" rel="stylesheet">

    <!-- Loading Flat UI Pro -->
    <link href="css/flat-ui.css" rel="stylesheet">

    <style>
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #map {
        height: 100%;
      }
      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>

  </head>
  <body>
    <div id="body" class="border-0">
      <div class="navbar navbar-inverse navbar-embossed navbar-static-top border-0" style="margin-bottom: 0; width: auto;">
        <a href="index.html" class="navbar-brand"> <img src="images/socó_logo.png" class="nav-item" style="margin-bottom: 10px; height: 110%; width: auto; max-width 10%;"> </a>
        <form class="navbar-form form-inline my-2 my-lg-0" action="#" role="search" style="margin: 10px; height: fit-content; width: 70%;">
            <div class="form-group">
              <div class="input-group">
                <input class="form-control" type="search" placeholder="Para onde deseja ir?">
                <span class="input-group-btn">
                <button type="submit" class="btn"><span class="fui-search"></span></button>
                </span>
              </div>
            </div>
        </form>
        <div class="btn-group" style="width: auto; max-width: 10%; margin: 10px;">
          <button class="btn btn-inverse dropdown-toggle" type="button" data-toggle="dropdown">
            <span class="fui-list"></span>
          </button>
          <ul class="dropdown-menu dropdown-menu-right dropdown-menu-inverse" role="menu">
            <li><a href="#">Quem somos</a></li>
            <li><a href="#">O que é o socó</a></li>
            <li><a href="#">A universidade</a></li>
            <li><a href="#">Saquarema</a></li>
            <li><a href="#">Contato</a></li>
          </ul>
        </div>  
      </div>
      <div id="mapa" class="border-0 position-absolute align-self-lg-auto text-lg-center container-fluid" align="center" style="width:100%; height: 100%; margin: auto; padding: 10%;">
        <h4>Seja bem-vindo(a) ao Socó!</h4>
        <big>
        Por favor, para o correto funcionamento do aplicativo, permita a localização.<br>
        Nenhum dado seu será coletado.<br>
        <br>
        <button class="btn btn-primary" onclick="getLocation()">Permitir localização</button>
        </big>
      </div>
      <a href="turistar.html" class="btn btn-primary position-fixed" style="bottom: 10px; right: 10px;">Turistar <img src="images/icons/binocle.png" style="height: 30px; width: 30px;"></a>
    </div>
    
    <!-- Mapa -->
    <script src="https://maps.google.com/maps/api/js?key=AIzaSyCDb9FTHmKWaL5bDQF3E_AhLUI7qAFRN_k"></script>
    <script>
      var x=document.getElementById("mapa");
      function getLocation()
        {
        if (navigator.geolocation)
          {
          navigator.geolocation.getCurrentPosition(showPosition,showError);
          }
        else{x.innerHTML="Geolocation is not supported by this browser.";}
        }
      
      function showPosition(position)
        {
        var lat=position.coords.latitude;
        var lon=position.coords.longitude;
        var latlon=new google.maps.LatLng(lat, lon)
        var mapholder=document.getElementById('mapa')
        mapholder.style.height='100%';
        mapholder.style.width='100%';
      
        var myOptions={
        center:latlon,zoom:14,
        mapTypeId:google.maps.MapTypeId.ROADMAP,
        mapTypeControl:false,
        navigationControlOptions:{style:google.maps.NavigationControlStyle.SMALL}
        };
        var map=new google.maps.Map(document.getElementById("mapa"),myOptions);
        var marker=new google.maps.Marker({position:latlon,map:map,title:"Você está aqui!"});
        }
      
      function showError(error)
        {
        switch(error.code) 
          {
          case error.PERMISSION_DENIED:
            x.innerHTML="O usuário negou a localização"
            break;
          case error.POSITION_UNAVAILABLE:
            x.innerHTML="Localização não disponível"
            break;
          case error.TIMEOUT:
            x.innerHTML="A solicitação expirou"
            break;
          case error.UNKNOWN_ERROR:
            x.innerHTML="Ocorreu um erro desconhecido"
            break;
          }
        }
    </script>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>

    <!-- Bootstrap 4 requires Popper.js -->
    <script src="https://unpkg.com/popper.js@1.14.1/dist/umd/popper.min.js" crossorigin="anonymous"></script>

    <script src="http://vjs.zencdn.net/6.6.3/video.js"></script>

    <script src="scripts/flat-ui.js"></script>

  </body>
</html>
